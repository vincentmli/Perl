#!/usr/bin/perl
use strict;
# from http://www.stedee.id.au/Learn_Regular_Expressions-Examples_IPAddresses

my $regex_pattern = qr{^192\.(18\.|19\.([12]?.|3[01])\.)};

while (<DATA>) {
	if (/$regex_pattern/o) {
		print $_;
	}
}

=for head

#analysis
step 1
192.18.
192.19.0 to 31.

step 2
192.19.[0-9].
192.19.1[0-9].
192.19.2[0-9].
192.19.30.
192.19.31.

step 3
^
192\.
18\.

step 4
^
192\.
19\.
(
[0-9]\.
|
1[0-9]\.
|
2[0-9]\.
|
30\.
|
31\.
)


step 5

^
192\.
 (
   18\.
    |
   19\.
      (
         [0-9]\.
         |
         1[0-9]\.
         |
         2[0-9]\.
         |
         30\.
         |
         31\.
      )
  )

step 6

^192\.
  (
     18\.|
     19\.
        (
          [0-9]|1[0-9]|2[0-9]|30|31
         )
         \.
   )

step 7

(nothing)[0-9]|[1[0-9]|2[0-9]

step 8 

[12]?
[0-9]

step 9

19\.(
[12]?[0-9]
|
30|31
)\.


step 10

19\.(
[12]?.
|
30|31
)\.

step 11

19\.(
[12]?.
|
3[01]
)\.

step 12

^192\.
  (
     18\.|
     19\.
       (
         [12]?.
         |
         3[01]
       )\.
  )

step 13

^192\.(18|19\.([12]?.|3[01]))\.

step 14

^192\.(18\.|19\.(.|1.|2.|30|31)\.)

=cut

__DATA__
192.18.0.1
192.18.254.254
192.19.0.1
192.19.34.1
192.19.11.299
192.19.21.14
192.19.30.39
192.19.31.1
